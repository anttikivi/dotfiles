---
- name: Tap the repository for yabai
  community.general.homebrew_tap:
    name: koekeishiya/formulae
    state: present

- name: Install yabai
  community.general.homebrew:
    name:
      - koekeishiya/formulae/yabai
    state: present

- name: Install Amethyst
  community.general.homebrew_cask:
    name:
      - amethyst
    state: present

- name: Copy Amethyst configuration
  ansible.builtin.copy:
    src: amethyst.yml
    dest: "{{ ansible_user_dir }}/.amethyst.yml"
    mode: "0644"
    force: true
# vi: ft=yaml.ansible
