- defaults:
    link:
      create: true
      relink: true
    create:
      mode: 0755

- clean: ["~", "~/.config"]

- link:
    ~/.aerospace.toml:
      if: '[ "$(uname)" = "Darwin" ]'
      path: aerospace.toml
    ~/.config/env:
      glob: true
      path: env/*
    ~/.config/kitty/user.conf: kitty.conf
    ~/.config/nvim: nvim
    ~/.editorconfig:
    ~/.gitconfig:
    ~/.gitignore_global:
    ~/.local/bin/:
      glob: true
      path: bin/*
    ~/.local/bin/kitty_watch_colors.sh:
      if: '[ "$(uname)" = "Darwin" ]'
      path: kitty_watch_colors.sh
    ~/.tmux.conf:
    ~/.zfunctions/async: purus/async.zsh
    ~/.zfunctions/prompt_purus_setup: purus/purus.zsh
    ~/.zprofile:
    ~/.zsh:
    ~/.zshenv:
    ~/.zshrc:
    ~/Library/LaunchAgents/fi.anttikivi.kittycolors.plist:
      if: '[ "$(uname)" = "Darwin" ]'
      path: fi.anttikivi.kittycolors.plist

- shell:
    - [git submodule sync --recursive, Syncing submodules]
    - [git submodule update --init --recursive, Updating submodules]
    - [./scripts/install_utils.sh, Installing common utilities]
    - [./scripts/install_kitty.sh, Installing kitty]
    - [./scripts/install_nvim.sh, Installing Neovim]
